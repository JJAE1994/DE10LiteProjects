library ieee;
use ieee.std_logic_1164.all;
use ieee.std_logic_unsigned.all;

entity Chrono is
--entity ContadorCronometro is
port(
	clock:in std_logic;
	DM:out std_logic_vector(3 downto 0);
	UM:out std_logic_vector(3 downto 0);
	DS:out std_logic_vector(3 downto 0);
	US:out std_logic_vector(3 downto 0)
);
--end ContadorCronometro;
end Chrono;

architecture funcional of Chrono is
signal s_DM: std_logic_vector(3 downto 0);
signal s_UM: std_logic_vector(3 downto 0);
signal s_DS: std_logic_vector(3 downto 0);
signal s_US: std_logic_vector(3 downto 0);
begin

process(clock)
--variable s_DM: std_logic_vector(3 downto 0);
--variable s_UM: std_logic_vector(3 downto 0);
--variable s_DS: std_logic_vector(3 downto 0);
--variable s_US: std_logic_vector(3 downto 0);
begin
	if clock'event and clock='1' then
	
		if s_US="1001" then
			s_US<="0000";
			
			if s_DS="0101" then
				s_DS<="0000";
				
				if s_UM="1001" then
					s_UM<="0000";
					
					if s_DM="0101" then
						s_DM<="0000";
					else
						s_DM<=s_DM+1;
					end if;
					
				else
					s_UM<=s_UM+1;
				end if;
				
			else
				s_DS<=s_DS+1;
			end if;
			
		else
			s_US<=s_US+1;
		end if;
	end if;
	
end process;

DM <= s_DM;
UM <= s_UM;
DS <= s_DS;
US <= s_US;

end funcional;